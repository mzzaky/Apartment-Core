- [fix] ikuti format penulisan dev log simpel ini
- [feat] Menambahkan mekanisme Income Capacity agar pendapatan apartemen tidak dapat menumpuk tanpa batas; setiap level apartment memiliki batas maksimum akumulasi `pendingIncome` (Level 1 = 10.000, Level 2 = 20.000, dst., bertambah 10.000 per level).
- [feat] Income generation otomatis dihentikan ketika `pendingIncome` sudah mencapai kapasitas penuh; income yang baru tidak akan ditambahkan hingga pemain melakukan klaim.
- [feat] Jika income akan melampaui sisa kapasitas, nilainya otomatis dipotong (clamp) agar `pendingIncome` tidak pernah melebihi batas level.
- [feat] Pemain online mendapatkan notifikasi chat `[Capacity Full]` ketika vault income apartemennya penuh, disertai info besaran kapasitas level.
- [feat] Menambahkan field `income-capacity` pada setiap level di blok `apartment-levels` dalam `config.yml` untuk kemudahan konfigurasi kapasitas per level.
- [chore] Menambahkan field `incomeCapacity` pada model `LevelConfig.java` dan memperbarui konstruktornya.
- [chore] Menambahkan method `getIncomeCapacity(int level)` pada `ConfigManager.java` sebagai helper dengan nilai fallback otomatis (`level Ã— 10.000`).
- [chore] Memperbarui method `generateIncome()` di `ApartmentManager.java` untuk menghormati batas kapasitas dan mengirim notifikasi kapasitas penuh.
- [chore] Menambahkan entri pesan `notifications.income_capacity_full` di `messages.yml`.
- [feat] Menambahkan sistem durasi pada proses upgrade apartemen; upgrade tidak lagi instant melainkan membutuhkan waktu penyelesaian.
- [feat] Menambahkan atribut konfigurasi `upgrade-duration` (dalam satuan tick) di `config.yml` pada masing-masing level di `apartment-levels` (0 = instant).
- [feat] Menambahkan GUI konfirmasi khusus (`UpgradeConfirmGUI`) yang muncul ketika pemain menekan tombol Upgrade. GUI ini menyajikan info Harga, Sisa Durasi, dan Perkiraan Pendapatan Baru sebelum konfirmasi akhir dilakukan.
- [feat] Mengubah tombol upgrade pada menu `ApartmentDetailsGUI` menjadi indikator sisa waktu (*Upgrading...*) bilamana apartemen sedang dalam fase renovasi level.
- [feat] Menambahkan checker otomatis dalam `TaskManager.java` yang memroses apartemen yang selesai upgrade setiap detik (20 tick), diiringi dengan efek notifikasi Title dan *Sound Level-Up* bagi pemain yang sedang online.
- [chore] Memodifikasi `Apartment.java` dan `ApartmentManager.java` untuk menyimpan status `upgradeInProgress` dan batas waktu `upgradeCompleteAt` secara permanen ke `data.yml` agar progres tidak hilang ketika restart.
- [feat] Menambahkan mekanisme **Quick Sell**: pemilik apartment dapat menjual langsung apartment kembali ke pemerintah menggunakan konfigurasi `sell-percentage` yang sudah ada di `config.yml` (default 70% dari harga beli).
- [feat] Menambahkan mekanisme **Market Sell**: pemilik apartment dapat memasang listing di browser apartment agar pemain lain dapat membeli apartment tersebut dengan mekanisme perpindahan kepemilikan (ownership transfer). Harga listing sesuai harga apartment asli, dan uang pembayaran langsung masuk ke penjual.
- [feat] Pada `ApartmentBrowserGUI`, listing market menampilkan informasi penjual, rating apartment, level apartment, income range, dan label `ğŸ“¢ Market Listing` untuk membedakan dari properti government.
- [feat] Pada `ApartmentBrowserGUI`, apartment yang dijual/dibuat oleh admin (tanpa pemilik) kini menampilkan label `ğŸ› Government Property` dan `Owner: Government` pada lore item.
- [feat] Mengubah command `/ac sell <apartment_id>` menjadi `/ac sell quick <apartment_id>` untuk quick sell dan `/ac sell market <apartment_id>` untuk market sell, serta `/ac sell cancel <apartment_id>` untuk membatalkan listing market.
- [feat] Menambahkan command `/ac marketbuy <apartment_id>` untuk proses pembelian apartment dari market listing (dengan mekanisme konfirmasi).
- [feat] Pada `ApartmentDetailsGUI`, tombol Sell diganti menjadi dua tombol terpisah: `âš¡ Quick Sell` (slot 24) dan `ğŸ“¢ Market Sell` (slot 25). Jika apartment sudah terlisting di market, tombol Market Sell berubah menjadi `Listed on Market` dengan opsi klik untuk membatalkan listing.
- [feat] Pada `ApartmentDetailsGUI`, menambahkan tombol `ğŸ›’ Buy from Market` untuk non-owner ketika apartment sedang di-listing di market, menampilkan info penjual dan harga market.
- [chore] Menambahkan field `marketListing`, `marketPrice`, dan `marketListedAt` pada model `Apartment.java` untuk menyimpan state market listing.
- [chore] Memperbarui `ApartmentManager.java` untuk melakukan load/save field market listing dari/ke `data.yml`.
- [chore] Menambahkan handler `handleMarketSellCommand()`, `handleCancelMarketCommand()`, dan `handleMarketBuyCommand()` pada `ApartmentCommandService.java`.
- [chore] Menambahkan case `market_buy` pada confirm handler di `CommandHandler.java` dan `ApartmentCommandService.java` untuk proses konfirmasi pembelian market.
- [chore] Memperbarui tab completion pada `CommandHandler.java` untuk mendukung subcommand `sell quick|market|cancel`.
- [chore] Memperbarui usage message sell di `messages.yml`.
- [chore] Mereset field market listing pada proses quick sell, repossession, dan market buy agar state selalu konsisten.
- [fix] Membuat tombol Claim Income pada GUI Apartment Details tetap muncul (warna abu-abu) meskipun tidak ada income yang bisa diklaim.
- [feat] Menambahkan info `Vault Capacity` (`income-capacity`) pada lore item info di `ApartmentDetailsGUI` (menu detail apartemen).
- [feat] Memperbaiki format tampilan `Pending Income` pada `MyApartmentsGUI` untuk turut menampilkan batas maksimum / `Vault Capacity` (contoh: `$1,000 / $10,000`).
- [feat] Mengubah mekanisme Market Sell di `ApartmentDetailsGUI`. Kini ketika pemain mengklik tombol Market Sell, GUI akan tertutup dan permainan akan meminta pemain untuk memasukkan angka `custom price` (harga jual yang diinginkan) melalui chat, disertai dengan validasi format harga. Pemain dapat mengetik 'cancel' untuk membatalkan proses listing.
- [feat] Menambahkan tipe riset baru `capacity_expansion` (Vault Expansion) pada Research System, yang memberikan bonus +5% Income Capacity per tier. Resep riset ini dibuat mahal dengan durasi waktu riset yang paling lama.
- [feat] Menambahkan tampilan perhitungan bonus research pada lore item `Next Income In` di MyApartmentsGUI, menampilkan persentase bonus `capital_growth` (CG) dan `revenue_acceleration` (RA) untuk pemain yang telah menyelesaikan riset tersebut (contoh: `(+15% CG, -10% RA)`).
- [feat] Menambahkan command admin `/ac admin set research <factory_id> <research_id> <tier>` untuk meningkatkan level research secara manual, berguna untuk keperluan testing maupun event.
- [fix] Memperbaiki timer mekanisme pajak yang sebelumnya selalu menggunakan waktu 24 jam (real-world), sekarang telah tersinkronisasi murni menggunakan interval `tax-generation-interval` yang telah ditetapkan di `config.yml`.
- [feat] Menambahkan info total jumlah level riset (`Research Lv`) milik penjual pada item lore apartemen yang dijual di market (`ApartmentBrowserGUI`).
- [feat] Menambahkan tampilan efek buff `tax_efficiency` (Tax Efficiency) pada lore item nilai pajak di `TaxManagementGUI`, menampilkan persentase pengurangan pajak dari research (contoh: `-15% (Research)`) pada item Tax Overview, Apartment Tax Item, dan Invoice Item.
- [feat] Menambahkan full tab completion untuk command `/ac admin set research <factory_id> <research_id> <tier>`, mendukung auto-complete ID apartemen, jenis riset (`ResearchType`), dan batasan maksimal tier.