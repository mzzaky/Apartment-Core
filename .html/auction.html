<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auction Features - ApartmentCore Wiki</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #0a0c10 0%, #111316 50%, #1a1d23 100%);
        color: #e4e6ea;
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
    }

    /* Luxury background effects */
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
            radial-gradient(circle at 20% 20%, rgba(255, 217, 102, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 80%, rgba(244, 208, 63, 0.08) 0%, transparent 50%),
            radial-gradient(circle at 40% 60%, rgba(255, 217, 102, 0.05) 0%, transparent 50%);
        pointer-events: none;
        z-index: -1;
    }

    /* Floating particles effect */
    .particle {
        position: absolute;
        background: rgba(255, 217, 102, 0.4);
        border-radius: 50%;
        pointer-events: none;
        animation: float 20s infinite linear;
    }

    @keyframes float {
        0% {
            transform: translateY(100vh) rotate(0deg);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            transform: translateY(-100px) rotate(360deg);
            opacity: 0;
        }
    }

    /* Header Utama */
    .page-header {
        text-align: center;
        margin-bottom: 50px;
        padding: 40px 0;
        position: relative;
    }

    .page-header h1 {
        color: #ffffff;
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 16px;
        background: linear-gradient(135deg, #ffd966 0%, #f4d03f 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 4px 20px rgba(255, 217, 102, 0.3);
        position: relative;
    }

    .page-header h1::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 3px;
        background: linear-gradient(135deg, #ffd966 0%, #f4d03f 100%);
        border-radius: 2px;
        box-shadow: 0 0 20px rgba(255, 217, 102, 0.5);
    }

    .page-header p {
        color: #9ca3af;
        font-size: 1.2rem;
        margin-top: 30px;
    }

    /* Navigation Breadcrumb */
    .breadcrumb {
        max-width: 1400px;
        margin: 0 auto 40px;
        padding: 16px 24px;
        background: rgba(255, 255, 255, 0.02);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 217, 102, 0.1);
        border-radius: 16px;
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 14px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .breadcrumb a {
        color: #ffd966;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .breadcrumb a:hover {
        color: #f4d03f;
        text-shadow: 0 0 10px rgba(255, 217, 102, 0.5);
    }

    .breadcrumb span {
        color: #6b7280;
    }

    /* Content Container */
    .content-container {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: 280px 1fr;
        gap: 32px;
        align-items: start;
    }

    /* Side Navigation */
    .side-nav {
        position: sticky;
        top: 20px;
        background: rgba(255, 255, 255, 0.02);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 217, 102, 0.1);
        border-radius: 20px;
        padding: 24px;
        box-shadow: 0 12px 25px rgba(0,0,0,0.35), 0 0 50px rgba(255, 217, 102, 0.05);
    }

    .nav-title {
        color: #ffd966;
        font-weight: 600;
        font-size: 1.1rem;
        margin-bottom: 16px;
        letter-spacing: 0.5px;
    }

    .nav-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .nav-list li {
        margin-bottom: 8px;
    }

    .nav-list a {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 16px;
        border-radius: 12px;
        color: #e4e6ea;
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: 14px;
        position: relative;
        overflow: hidden;
    }

    .nav-list a::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 217, 102, 0.1), transparent);
        transition: left 0.5s;
    }

    .nav-list a:hover::before {
        left: 100%;
    }

    .nav-list a:hover {
        background: linear-gradient(135deg, rgba(255, 217, 102, 0.1) 0%, rgba(244, 208, 63, 0.1) 100%);
        color: #ffd966;
        transform: translateX(4px);
        box-shadow: 0 4px 15px rgba(255, 217, 102, 0.2);
    }

    .nav-list a.active {
        background: linear-gradient(135deg, rgba(255, 217, 102, 0.15) 0%, rgba(244, 208, 63, 0.15) 100%);
        color: #ffd966;
        border-left: 3px solid #ffd966;
        box-shadow: 0 4px 15px rgba(255, 217, 102, 0.2);
    }

    .nav-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #ffd966;
        opacity: 0.6;
        box-shadow: 0 0 8px rgba(255, 217, 102, 0.4);
    }

    /* Main Content */
    .main-content {
        background: rgba(255, 255, 255, 0.02);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 217, 102, 0.1);
        border-radius: 24px;
        overflow: hidden;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 80px rgba(255, 217, 102, 0.05);
    }

    /* Section Styles */
    .content-section {
        padding: 32px;
        border-bottom: 1px solid rgba(255, 217, 102, 0.05);
        scroll-margin-top: 20px;
        position: relative;
    }

    .content-section::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 217, 102, 0.3), transparent);
    }

    .content-section:last-child {
        border-bottom: none;
    }

    .section-title {
        display: flex;
        align-items: center;
        gap: 16px;
        margin-bottom: 24px;
    }

    .section-title h2 {
        color: #ffd966;
        font-size: 1.8rem;
        font-weight: 600;
        margin: 0;
        text-shadow: 0 0 20px rgba(255, 217, 102, 0.3);
    }

    .section-badge {
        display: inline-flex;
        align-items: center;
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        background: linear-gradient(135deg, rgba(255, 217, 102, 0.2) 0%, rgba(244, 208, 63, 0.2) 100%);
        color: #ffd966;
        border: 1px solid rgba(255, 217, 102, 0.3);
        box-shadow: 0 4px 15px rgba(255, 217, 102, 0.1);
    }

    /* Text Styles */
    h3 {
        color: #ffd966;
        font-size: 1.3rem;
        font-weight: 600;
        margin-top: 28px;
        margin-bottom: 16px;
        text-shadow: 0 0 15px rgba(255, 217, 102, 0.2);
    }

    p {
        color: #d1d5db;
        line-height: 1.8;
        margin-bottom: 16px;
    }

    /* Lists */
    ul, ol {
        color: #d1d5db;
        margin-bottom: 20px;
        padding-left: 24px;
    }

    li {
        margin-bottom: 12px;
        line-height: 1.7;
    }

    li strong {
        color: #ffd966;
        font-weight: 600;
    }

    /* Code Blocks */
    pre {
        background: rgba(0, 0, 0, 0.4);
        border: 1px solid rgba(255, 217, 102, 0.2);
        border-radius: 12px;
        padding: 20px;
        overflow-x: auto;
        margin: 20px 0;
        position: relative;
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
    }

    code {
        font-family: 'Outfit', monospace;
        font-size: 14px;
        color: #ffd966;
        text-shadow: 0 0 10px rgba(255, 217, 102, 0.3);
    }

    p code, li code {
        background: rgba(255, 217, 102, 0.1);
        padding: 4px 8px;
        border-radius: 6px;
        color: #ffd966;
        font-weight: 500;
        border: 1px solid rgba(255, 217, 102, 0.2);
        box-shadow: 0 0 10px rgba(255, 217, 102, 0.1);
    }

    /* Copy Button for Code Blocks */
    .code-block-wrapper {
        position: relative;
        margin: 20px 0;
    }

    .copy-button {
        position: absolute;
        top: 12px;
        right: 12px;
        background: linear-gradient(135deg, #ffd966 0%, #f4d03f 100%);
        color: #111316;
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10;
        box-shadow: 0 4px 15px rgba(255, 217, 102, 0.3);
    }

    .copy-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255, 217, 102, 0.4);
    }

    .copy-button.copied {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        color: #ffffff;
    }

    /* Alert/Info Boxes */
    .info-box {
        background: linear-gradient(135deg, rgba(255, 217, 102, 0.1) 0%, rgba(244, 208, 63, 0.1) 100%);
        border: 2px solid rgba(255, 217, 102, 0.3);
        border-radius: 16px;
        padding: 20px;
        margin: 24px 0;
        box-shadow: 0 8px 25px rgba(255, 217, 102, 0.1);
    }

    .info-box-title {
        color: #ffd966;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        text-shadow: 0 0 10px rgba(255, 217, 102, 0.3);
    }

    .info-box-content {
        color: #e4e6ea;
        line-height: 1.7;
    }
    
    .warning-box {
        background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.1) 100%);
        border: 2px solid rgba(239, 68, 68, 0.3);
        border-radius: 16px;
        padding: 20px;
        margin: 24px 0;
        box-shadow: 0 8px 25px rgba(239, 68, 68, 0.1);
    }

    .warning-box-title {
        color: #ef4444;
        font-weight: 600;
        margin-bottom: 8px;
        text-shadow: 0 0 10px rgba(239, 68, 68, 0.3);
    }

    .feature-box {
        background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(22, 163, 74, 0.1) 100%);
        border: 2px solid rgba(34, 197, 94, 0.3);
        border-radius: 16px;
        padding: 20px;
        margin: 24px 0;
        box-shadow: 0 8px 25px rgba(34, 197, 94, 0.1);
    }

    .feature-box-title {
        color: #22c55e;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        text-shadow: 0 0 10px rgba(34, 197, 94, 0.3);
    }

    /* Progress Steps */
    .steps-container {
        margin: 32px 0;
    }

    .step {
        display: flex;
        gap: 20px;
        margin-bottom: 24px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.01);
        border-radius: 16px;
        border: 1px solid rgba(255, 217, 102, 0.1);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .step::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 217, 102, 0.05), transparent);
        transition: left 0.6s;
    }

    .step:hover::before {
        left: 100%;
    }

    .step:hover {
        background: rgba(255, 217, 102, 0.05);
        transform: translateX(4px);
        border-color: rgba(255, 217, 102, 0.3);
        box-shadow: 0 8px 25px rgba(255, 217, 102, 0.1);
    }

    .step-number {
        min-width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #ffd966 0%, #f4d03f 100%);
        color: #111316;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 18px;
        box-shadow: 0 4px 15px rgba(255, 217, 102, 0.3);
    }

    .step-content {
        flex: 1;
    }

    .step-title {
        color: #ffd966;
        font-weight: 600;
        margin-bottom: 8px;
        text-shadow: 0 0 10px rgba(255, 217, 102, 0.2);
    }

    .step-description {
        color: #d1d5db;
        line-height: 1.7;
    }

    /* Custom Table */
    .data-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: transparent;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .data-table thead th {
        background: linear-gradient(135deg, #1a1d23 0%, #111316 100%);
        color: #ffd966;
        padding: 16px 20px;
        text-align: left;
        font-weight: 600;
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 1px;
        border-bottom: 2px solid rgba(255, 217, 102, 0.2);
        text-shadow: 0 0 10px rgba(255, 217, 102, 0.3);
    }

    .data-table tbody tr {
        transition: all 0.3s ease;
        border-bottom: 1px solid rgba(255, 217, 102, 0.05);
    }

    .data-table tbody tr:hover {
        background: rgba(255, 217, 102, 0.05);
        box-shadow: 0 4px 15px rgba(255, 217, 102, 0.1);
    }

    .data-table tbody td {
        padding: 16px 20px;
        color: #e4e6ea;
        font-size: 14px;
    }

    .data-table tbody td:first-child {
        font-weight: 600;
        color: #ffd966;
    }

    /* Command Grid */
    .command-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 24px 0;
    }

    .command-card {
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 217, 102, 0.1);
        border-radius: 16px;
        padding: 20px;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .command-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 217, 102, 0.05), transparent);
        transition: left 0.6s;
    }

    .command-card:hover::before {
        left: 100%;
    }

    .command-card:hover {
        background: rgba(255, 217, 102, 0.05);
        border-color: rgba(255, 217, 102, 0.3);
        box-shadow: 0 8px 25px rgba(255, 217, 102, 0.1);
        transform: translateY(-2px);
    }

    .command-card h4 {
        color: #ffd966;
        margin: 0 0 12px 0;
        font-size: 1.1rem;
        font-weight: 600;
        text-shadow: 0 0 10px rgba(255, 217, 102, 0.2);
    }

    .command-card p {
        color: #d1d5db;
        margin-bottom: 16px;
        font-size: 14px;
    }

    .command-card code {
        background: rgba(0, 0, 0, 0.3);
        padding: 8px 12px;
        border-radius: 8px;
        display: block;
        margin-top: 8px;
        border: 1px solid rgba(255, 217, 102, 0.2);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
        .content-container {
            grid-template-columns: 1fr;
        }

        .side-nav {
            position: static;
            margin-bottom: 32px;
        }

        .nav-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 8px;
        }

        .command-grid {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 768px) {
        .page-header h1 {
            font-size: 2.2rem;
        }

        .content-section {
            padding: 24px;
        }

        .section-title h2 {
            font-size: 1.5rem;
        }

        .data-table {
            font-size: 13px;
        }

        .data-table thead th,
        .data-table tbody td {
            padding: 12px 16px;
        }
    }

    @media (max-width: 480px) {
        body {
            padding: 15px;
        }

        .page-header h1 {
            font-size: 1.8rem;
        }

        .content-section {
            padding: 20px;
        }

        .step {
            flex-direction: column;
            gap: 12px;
        }

        .step-number {
            align-self: flex-start;
        }
    }

    /* Scrollbar Customization */
    ::-webkit-scrollbar {
        width: 12px;
        height: 12px;
    }

    ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 6px;
    }

    ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #ffd966 0%, #f4d03f 100%);
        border-radius: 6px;
        border: 2px solid transparent;
        background-clip: content-box;
        box-shadow: 0 0 10px rgba(255, 217, 102, 0.3);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #f4d03f 0%, #ffd966 100%);
    }
</style>
</head>
<body>
<!-- Floating particles -->
<div class="particle" style="left: 10%; width: 3px; height: 3px; animation-delay: 0s;"></div>
<div class="particle" style="left: 20%; width: 2px; height: 2px; animation-delay: 2s;"></div>
<div class="particle" style="left: 30%; width: 4px; height: 4px; animation-delay: 4s;"></div>
<div class="particle" style="left: 40%; width: 2px; height: 2px; animation-delay: 6s;"></div>
<div class="particle" style="left: 50%; width: 3px; height: 3px; animation-delay: 8s;"></div>
<div class="particle" style="left: 60%; width: 2px; height: 2px; animation-delay: 10s;"></div>
<div class="particle" style="left: 70%; width: 4px; height: 4px; animation-delay: 12s;"></div>
<div class="particle" style="left: 80%; width: 3px; height: 3px; animation-delay: 14s;"></div>
<div class="particle" style="left: 90%; width: 2px; height: 2px; animation-delay: 16s;"></div>

<div class="page-header">
<h1>Auction Features</h1>
<p>Buy and sell apartments through our dynamic auction system</p>
</div>

<div class="breadcrumb">
    <a href="https://sites.google.com/view/apartment-core/homepage">Wiki Home</a>
    <span>‚Ä∫</span>
    <span style="color: #e4e6ea;">Auction Features</span>
</div>

<div class="content-container">
    <nav class="side-nav">
        <div class="nav-title">On This Page</div>
        <ul class="nav-list">
            <li><a href="#overview" class="active"><span class="nav-dot"></span>Overview</a></li>
            <li><a href="#creating-auctions"><span class="nav-dot"></span>Creating Auctions</a></li>
            <li><a href="#bidding"><span class="nav-dot"></span>Bidding Process</a></li>
            <li><a href="#auction-rules"><span class="nav-dot"></span>Rules & Restrictions</a></li>
            <li><a href="#commands"><span class="nav-dot"></span>Commands</a></li>
            <li><a href="#fees-commission"><span class="nav-dot"></span>Fees & Commission</a></li>
            <li><a href="#advanced-features"><span class="nav-dot"></span>Advanced Features</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <section class="content-section" id="overview">
            <div class="section-title">
                <h2>Overview</h2>
                <span class="section-badge">Marketplace</span>
            </div>
            
            <p>The ApartmentCore auction system provides a dynamic marketplace where players can buy and sell apartments through competitive bidding. This feature creates an engaging economic environment where property values fluctuate based on market demand and strategic bidding.</p>
            
            <p>Our auction system includes sophisticated features like automatic time extensions, bid refunds, commission handling, and comprehensive security measures to ensure fair and secure transactions for all participants.</p>

            <div class="feature-box">
                <div class="feature-box-title">
                    ‚ú® Key Benefits
                </div>
                <div class="info-box-content">
                    <strong>Dynamic Pricing:</strong> Market-driven apartment values based on player demand<br>
                    <strong>Secure Transactions:</strong> Automated refunds and escrow-style bidding<br>
                    <strong>Fair Competition:</strong> Time extensions and minimum bid increments<br>
                    <strong>Revenue Generation:</strong> Commission-based income for server economy
                </div>
            </div>
        </section>

        <section class="content-section" id="creating-auctions">
            <div class="section-title">
                <h2>Creating Auctions</h2>
                <span class="section-badge">Selling</span>
            </div>
            
            <p>As an apartment owner, you can put your property up for auction to sell it to the highest bidder. The auction creation process includes several validation steps and requirements to ensure legitimate sales.</p>

            <div class="steps-container">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title">Prerequisites Check</div>
                        <div class="step-description">
                            Your apartment must have <strong>all taxes paid</strong> before creating an auction. The system prevents selling properties with outstanding tax debts to protect buyers.
                        </div>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title">Set Starting Bid</div>
                        <div class="step-description">
                            Choose a starting bid amount within the configured limits. Consider your apartment's level, features, and market conditions when setting this price.
                        </div>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <div class="step-title">Choose Duration</div>
                        <div class="step-description">
                            Select how long your auction will run, from minimum to maximum hours allowed by server configuration. Longer auctions may attract more bidders.
                        </div>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <div class="step-title">Pay Creation Fee</div>
                        <div class="step-description">
                            A small creation fee is charged to prevent spam auctions. This fee is deducted from your account when the auction begins.
                        </div>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <div class="warning-box-title">‚ö†Ô∏è Cooldown Period</div>
                <div class="info-box-content">
                    After creating an auction, you must wait through a cooldown period before creating another one. This prevents auction spam and maintains marketplace quality.
                </div>
            </div>
        </section>

        <section class="content-section" id="bidding">
            <div class="section-title">
                <h2>Bidding Process</h2>
                <span class="section-badge">Buying</span>
            </div>
            
            <p>Participating in auctions is straightforward but includes important protections for all bidders. When you place a bid, the money is immediately held in escrow, and previous bidders are automatically refunded.</p>

            <h3>How Bidding Works</h3>
            <ul>
                <li><strong>Minimum Increments:</strong> Each new bid must exceed the current highest bid by a configured minimum amount</li>
                <li><strong>Instant Refunds:</strong> Previous high bidders receive immediate refunds when outbid</li>
                <li><strong>Real-time Updates:</strong> Bidders receive notifications when outbid or when auctions end</li>
                <li><strong>Automatic Extensions:</strong> Bids placed near the end may extend the auction duration</li>
            </ul>

            <div class="info-box">
                <div class="info-box-title">
                    üí° Smart Extension System
                </div>
                <div class="info-box-content">
                    If a bid is placed in the final minutes of an auction, the end time is automatically extended to prevent last-second sniping. This ensures fair competition while respecting maximum duration limits.
                </div>
            </div>

            <h3>Bidding Restrictions</h3>
            <ul>
                <li>You cannot bid on your own auctions</li>
                <li>You must have sufficient funds in your account</li>
                <li>Bids must meet minimum increment requirements</li>
                <li>You can only have one active bid per auction</li>
            </ul>
        </section>

        <section class="content-section" id="auction-rules">
            <div class="section-title">
                <h2>Rules & Restrictions</h2>
                <span class="section-badge">Policy</span>
            </div>
            
            <p>Our auction system enforces several rules to maintain fairness and prevent abuse. Understanding these rules helps ensure smooth transactions for all participants.</p>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Rule</th>
                        <th>Description</th>
                        <th>Consequence</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>üìã Tax Clearance</td>
                        <td>All taxes must be paid before auction creation</td>
                        <td>Auction creation blocked</td>
                    </tr>
                    <tr>
                        <td>‚è∞ Cooldown Period</td>
                        <td>Wait time between creating auctions</td>
                        <td>Creation temporarily blocked</td>
                    </tr>
                    <tr>
                        <td>üí∞ Minimum Funds</td>
                        <td>Must have enough money to cover bids</td>
                        <td>Bid rejected</td>
                    </tr>
                    <tr>
                        <td>üö´ Self-Bidding</td>
                        <td>Cannot bid on your own auctions</td>
                        <td>Bid blocked</td>
                    </tr>
                    <tr>
                        <td>üìà Bid Increments</td>
                        <td>Minimum increase required per bid</td>
                        <td>Insufficient bid rejected</td>
                    </tr>
                </tbody>
            </table>

            <h3>Cancellation Policy</h3>
            <p>Auction cancellation is strictly regulated to maintain market integrity:</p>
            <ul>
                <li><strong>No Bids:</strong> Owners can cancel auctions that haven't received any bids</li>
                <li><strong>With Bids:</strong> Only administrators can cancel auctions with active bids</li>
                <li><strong>Automatic Refunds:</strong> All bidders are refunded when auctions are cancelled</li>
                <li><strong>Fee Non-Refundable:</strong> Creation fees are not returned upon cancellation</li>
            </ul>
        </section>

        <section class="content-section" id="commands">
            <div class="section-title">
                <h2>Commands</h2>
                <span class="section-badge">Interface</span>
            </div>
            
            <p>All auction functionality is accessed through intuitive commands. Here are the primary commands for interacting with the auction system:</p>

            <div class="command-grid">
                <div class="command-card">
                    <h4>Create Auction</h4>
                    <p>Start a new auction for your apartment with custom starting bid and duration.</p>
                    <code>/apartmentcore auction create &lt;apartmentId&gt; &lt;startingBid&gt; &lt;durationHours&gt;</code>
                </div>

                <div class="command-card">
                    <h4>Place Bid</h4>
                    <p>Bid on an active auction. Previous high bidders are automatically refunded.</p>
                    <code>/apartmentcore auction bid &lt;apartmentId&gt; &lt;amount&gt;</code>
                </div>

                <div class="command-card">
                    <h4>List Auctions</h4>
                    <p>View all active auctions with optional filters for targeted browsing.</p>
                    <code>/apartmentcore auction list [filter]</code>
                </div>

                <div class="command-card">
                    <h4>Cancel Auction</h4>
                    <p>Cancel your auction if it hasn't received bids yet.</p>
                    <code>/apartmentcore auction cancel &lt;apartmentId&gt;</code>
                </div>
            </div>

            <h3>List Filters</h3>
            <p>The list command supports several filters to help you find relevant auctions:</p>
            <ul>
                <li><strong>mine</strong> - Show only your own auctions</li>
                <li><strong>ending</strong> - Show auctions ending within 1 hour</li>
                <li><strong>nobids</strong> - Show auctions without any bids</li>
                <li><strong>No filter</strong> - Show all active auctions</li>
            </ul>
        </section>

        <section class="content-section" id="fees-commission">
            <div class="section-title">
                <h2>Fees & Commission</h2>
                <span class="section-badge">Economics</span>
            </div>
            
            <p>The auction system includes carefully balanced fees and commissions that support server economy while keeping costs reasonable for players.</p>

            <h3>Fee Structure</h3>
            <div class="steps-container">
                <div class="step">
                    <div class="step-number">üí∞</div>
                    <div class="step-content">
                        <div class="step-title">Creation Fee</div>
                        <div class="step-description">
                            A one-time fee charged when creating an auction. This prevents spam auctions and is non-refundable even if the auction is cancelled.
                        </div>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">üìä</div>
                    <div class="step-content">
                        <div class="step-title">Commission</div>
                        <div class="step-description">
                            A percentage of the final sale price is deducted as commission when an auction completes successfully. The seller receives the remaining amount.
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <div class="info-box-title">
                    üìà Example Transaction
                </div>
                <div class="info-box-content">
                    If your apartment sells for $10,000 with a 5% commission rate:<br>
                    ‚Ä¢ Commission deducted: $500<br>
                    ‚Ä¢ You receive: $9,500<br>
                    ‚Ä¢ Buyer pays: $10,000 (their winning bid)
                </div>
            </div>
        </section>

        <section class="content-section" id="advanced-features">
            <div class="section-title">
                <h2>Advanced Features</h2>
                <span class="section-badge">Pro Tips</span>
            </div>
            
            <p>Our auction system includes sophisticated features designed to create the most fair and engaging marketplace experience possible.</p>

            <h3>Auto-Extension System</h3>
            <p>The smart extension system prevents auction sniping by automatically extending auctions when bids are placed near the end time. This ensures all interested buyers have a fair chance to participate.</p>
            <ul>
                <li>Extensions triggered when bids placed in final minutes</li>
                <li>Extension duration is configurable by server settings</li>
                <li>Maximum duration limits prevent indefinite extensions</li>
                <li>All participants are notified of time extensions</li>
            </ul>

            <h3>Ownership Transfer</h3>
            <p>When an auction ends successfully, the ownership transfer is completely automated:</p>
            <ul>
                <li><strong>Instant Transfer:</strong> Winner immediately becomes the new owner</li>
                <li><strong>Region Updates:</strong> WorldGuard permissions are automatically updated</li>
                <li><strong>Fresh Start:</strong> Apartment ratings, stats, and guestbook are reset</li>
                <li><strong>Tax Reset:</strong> New owner starts with a clean tax record</li>
            </ul>

            <h3>Security Measures</h3>
            <div class="warning-box">
                <div class="warning-box-title">üîí Transaction Security</div>
                <div class="info-box-content">
                    All auction transactions use escrow-style security. When you bid, money is immediately held by the system. If outbid, you're instantly refunded. This prevents any possibility of payment disputes or fraud.
                </div>
            </div>

            <h3>Notification System</h3>
            <p>Stay informed throughout the auction process with comprehensive notifications:</p>
            <ul>
                <li>Bid confirmations and outbid alerts</li>
                <li>Auction ending reminders</li>
                <li>Successful sale notifications</li>
                <li>Refund confirmations</li>
                <li>Time extension announcements</li>
            </ul>
        </section>
    </main>
</div>

<script>
// Hardened interactivity for Google Sites embedding
(function() {
    // Robust clipboard copy with fallback for sandboxed iframes
    function legacyCopy(text) {
        try {
            // Preserve UI state to prevent any scroll jumps
            var prevFocus = document.activeElement;
            var x = window.pageXOffset || window.scrollX || 0;
            var y = window.pageYOffset || window.scrollY || 0;

            var ta = document.createElement('textarea');
            ta.value = text || '';
            ta.setAttribute('readonly', '');
            ta.setAttribute('aria-hidden', 'true');
            // Style to avoid any layout/scroll impact
            ta.style.position = 'fixed';
            ta.style.top = '0';
            ta.style.left = '0';
            ta.style.width = '1px';
            ta.style.height = '1px';
            ta.style.opacity = '0';
            ta.style.pointerEvents = 'none';
            ta.style.zIndex = '-1';
            ta.style.contain = 'strict';

            document.body.appendChild(ta);
            try { ta.focus({ preventScroll: true }); } catch (e) { try { ta.focus(); } catch (_) {} }
            ta.select();

            var ok = false;
            try { ok = document.execCommand('copy'); } catch (e) { ok = false; }

            document.body.removeChild(ta);

            // Restore focus and scroll position
            try {
                if (prevFocus && typeof prevFocus.focus === 'function') {
                    try { prevFocus.focus({ preventScroll: true }); } catch (e) { prevFocus.focus(); }
                }
            } catch (_) {}
            try { window.scrollTo(x, y); } catch (_) {}

            return ok ? Promise.resolve() : Promise.reject(new Error('execCommand failed'));
        } catch (err) {
            return Promise.reject(err);
        }
    }

    function safeCopyText(text) {
        if (!text) return Promise.reject(new Error('No text to copy'));
        if (navigator.clipboard && typeof navigator.clipboard.writeText === 'function') {
            return navigator.clipboard.writeText(text).catch(function() {
                return legacyCopy(text);
            });
        }
        return legacyCopy(text);
    }

    // Keep global for inline onclick while also supporting delegated clicks
    window.copyCode = function(button) {
        var wrapper = (button && button.closest) ? button.closest('.code-block-wrapper') : (button ? button.parentElement : null);
        var codeEl = wrapper ? wrapper.querySelector('pre code') : null;
        var text = codeEl ? codeEl.textContent : '';
        var targetBtn = button || (wrapper ? wrapper.querySelector('.copy-button') : null);

        safeCopyText(text).then(function() {
            if (targetBtn) {
                targetBtn.textContent = 'Copied!';
                targetBtn.classList.add('copied');
                setTimeout(function() {
                    targetBtn.textContent = 'Copy';
                    targetBtn.classList.remove('copied');
                }, 2000);
            }
        });
    };

    // Ensure copy buttons are not treated as submit buttons in host context
    try {
        document.querySelectorAll('.copy-button').forEach(function(b){ b.setAttribute('type','button'); });
    } catch (_) {}

    // Event delegation for copy buttons (works even if Google Sites rewrites DOM)
    document.addEventListener('click', function(e) {
        var btn = e.target && e.target.closest ? e.target.closest('.copy-button') : null;
        if (btn) {
            // Ensure it's not a submit button and block any host handlers
            if (!btn.getAttribute('type')) btn.setAttribute('type','button');
            e.preventDefault();
            e.stopPropagation();
            if (typeof e.stopImmediatePropagation === 'function') e.stopImmediatePropagation();
            window.copyCode(btn);
        }
    }, true); // capture to intercept before host handlers

    // Prepare and harden side navigation behavior
    var navContainer = document.querySelector('.nav-list');

    if (navContainer) {
        // Remove any target attributes that may cause new tab behavior
        navContainer.querySelectorAll('a').forEach(function(a) {
            a.removeAttribute('target');
            a.setAttribute('rel', 'noopener');
            a.setAttribute('role', 'button');
        });

        // Delegated smooth scrolling to prevent default navigation/new tab
        navContainer.addEventListener('click', function(e) {
            var link = e.target && e.target.closest ? e.target.closest('a') : null;
            if (!link) return;

            var href = link.getAttribute('href') || '';
            if (href.charAt(0) === '#') {
                e.preventDefault();
                e.stopPropagation();

                var id = href.slice(1);
                var target = document.getElementById(id);
                if (target) {
                    try {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    } catch (err) {
                        // Fallback smooth scroll
                        var start = window.pageYOffset || document.documentElement.scrollTop || 0;
                        var end = target.getBoundingClientRect().top + start - 10;
                        var duration = 400, startTime = null;
                        function step(ts) {
                            if (!startTime) startTime = ts;
                            var p = Math.min((ts - startTime) / duration, 1);
                            var ease = p < 0.5 ? 2 * p * p : -1 + (4 - 2 * p) * p;
                            window.scrollTo(0, start + (end - start) * ease);
                            if (p < 1) requestAnimationFrame(step);
                        }
                        requestAnimationFrame(step);
                    }

                    // Update active state
                    navContainer.querySelectorAll('a').forEach(function(a) { a.classList.remove('active'); });
                    link.classList.add('active');
                }
            }
        }, true); // capture to cancel host default
    }

    // Active section highlight on scroll
    var sections = Array.prototype.slice.call(document.querySelectorAll('.content-section'));
    var navLinks = Array.prototype.slice.call(document.querySelectorAll('.nav-list a'));

    function highlightNav() {
        var current = '';
        var scrollPos = (window.scrollY || window.pageYOffset || 0) + 120; // Adjusted offset
        for (var i = 0; i < sections.length; i++) {
            var s = sections[i];
            if (scrollPos >= s.offsetTop) {
                current = s.id;
            }
        }
        var hasActive = false;
        navLinks.forEach(function(link) {
            var href = link.getAttribute('href') || '';
            var isActive = href.charAt(0) === '#' && href.slice(1) === current;
            if (isActive) {
                link.classList.add('active');
                hasActive = true;
            } else {
                link.classList.remove('active');
            }
        });
        // If no section is active (e.g., at the very top), activate the first link
        if (!hasActive && navLinks.length > 0) {
            navLinks[0].classList.add('active');
             navLinks.slice(1).forEach(function(link) { link.classList.remove('active'); });
        }
    }
    window.addEventListener('scroll', highlightNav, { passive: true });
    // Initial call to set state on page load
    setTimeout(highlightNav, 100);
})();
</script>
</body>
</html>